!function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[i]={exports:{}};t[i][0].call(f.exports,function(e){var n=t[i][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function a(){r(this,a),console.log("Home")};n["default"]=o},{}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../tools/DeviceInfo"),s=r(i),u=e("../partials/Header"),c=r(u),f=e("../partials/Footer"),l=r(f),d=e("./Home"),v=r(d),p=function(){function e(){o(this,e),console.log("init"),this.ready()}return a(e,[{key:"ready",value:function(){switch(s["default"].check(),s["default"].isTouch&&document.body.classList.add("touch"),s["default"].isIE&&document.body.classList.add("ie"),s["default"].isAndroid&&document.body.classList.add("android"),s["default"].isIOS&&document.body.classList.add("ios"),s["default"].isFirefox&&document.body.classList.add("firefox"),s["default"].isSafari&&document.body.classList.add("safari"),s["default"].isChrome&&document.body.classList.add("chrome"),this.header=new c["default"],this.footer=new l["default"],$("body section").attr("data-template")){case"home":this.page=new v["default"]}}}]),e}();new p},{"../partials/Footer":3,"../partials/Header":4,"../tools/DeviceInfo":5,"./Home":1}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function a(){r(this,a),console.log("Footer")};n["default"]=o},{}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),console.log("Header"),this.menuresize(),window.addEventListener("scroll",this.menuresize.bind(this))}return o(e,[{key:"menuresize",value:function(){var e=100;this.nav=document.getElementById("masthead"),window.pageYOffset>e&&this.nav.classList.add("small"),window.pageYOffset<=e&&this.nav.classList.remove("small")}}]),e}();n["default"]=a},{}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return o(e,null,[{key:"check",value:function(){e.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,e.isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,e.isSafari=navigator.userAgent.toLowerCase().indexOf("chrome")<=-1&&navigator.userAgent.toLowerCase().indexOf("safari")>-1,e.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>-1,e.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,e.isIE=-1!=e.getInternetExplorerVersion();try{document.createEvent("TouchEvent"),e.isTouch=!0}catch(t){e.isTouch=!1}}},{key:"getInternetExplorerVersion",value:function(){var e=-1,t=null,n=navigator.userAgent;return"Microsoft Internet Explorer"==navigator.appName?(t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!==t.exec(n)&&(e=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!==t.exec(n)&&(e=parseFloat(RegExp.$1))),e}}]),e}();n["default"]=a},{}]},{},[2]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC5qcyIsInNyYy9qcy9jdXN0b20vSG9tZS5qcyIsInNyYy9qcy9jdXN0b20vTWFpbi5qcyIsInNyYy9qcy9wYXJ0aWFscy9Gb290ZXIuanMiLCJzcmMvanMvcGFydGlhbHMvSGVhZGVyLmpzIiwic3JjL2pzL3Rvb2xzL0RldmljZUluZm8uanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJIb21lIiwidGhpcyIsImNvbnNvbGUiLCJsb2ciLCIyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIl9EZXZpY2VJbmZvIiwiX0RldmljZUluZm8yIiwiX0hlYWRlciIsIl9IZWFkZXIyIiwiX0Zvb3RlciIsIl9Gb290ZXIyIiwiX0hvbWUiLCJfSG9tZTIiLCJNYWluIiwicmVhZHkiLCJjaGVjayIsImlzVG91Y2giLCJkb2N1bWVudCIsImJvZHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJpc0lFIiwiaXNBbmRyb2lkIiwiaXNJT1MiLCJpc0ZpcmVmb3giLCJpc1NhZmFyaSIsImlzQ2hyb21lIiwiaGVhZGVyIiwiZm9vdGVyIiwiJCIsImF0dHIiLCJwYWdlIiwiLi4vcGFydGlhbHMvRm9vdGVyIiwiLi4vcGFydGlhbHMvSGVhZGVyIiwiLi4vdG9vbHMvRGV2aWNlSW5mbyIsIi4vSG9tZSIsIjMiLCJGb290ZXIiLCI0IiwiSGVhZGVyIiwibWVudXJlc2l6ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJiaW5kIiwic3RhcnQiLCJuYXYiLCJnZXRFbGVtZW50QnlJZCIsInBhZ2VZT2Zmc2V0IiwicmVtb3ZlIiwiNSIsIkRldmljZUluZm8iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJ0ZXN0IiwiTVNTdHJlYW0iLCJnZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbiIsImNyZWF0ZUV2ZW50IiwicnYiLCJyZSIsInVhIiwiYXBwTmFtZSIsIlJlZ0V4cCIsImV4ZWMiLCJwYXJzZUZsb2F0IiwiJDEiXSwibWFwcGluZ3MiOiJDQUFBLFFBQUFBLEdBQUFDLEVBQUFDLEVBQUFDLEdBQUEsUUFBQUMsR0FBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLEdBQUFFLEdBQUEsa0JBQUFDLFVBQUFBLE9BQUEsS0FBQUYsR0FBQUMsRUFBQSxNQUFBQSxHQUFBRixHQUFBLEVBQUEsSUFBQUksRUFBQSxNQUFBQSxHQUFBSixHQUFBLEVBQUEsSUFBQUssR0FBQSxHQUFBQyxPQUFBLHVCQUFBTixFQUFBLElBQUEsTUFBQUssR0FBQUUsS0FBQSxtQkFBQUYsRUFBQSxHQUFBRyxHQUFBWCxFQUFBRyxJQUFBUyxXQUFBYixHQUFBSSxHQUFBLEdBQUFVLEtBQUFGLEVBQUFDLFFBQUEsU0FBQWQsR0FBQSxHQUFBRSxHQUFBRCxFQUFBSSxHQUFBLEdBQUFMLEVBQUEsT0FBQUksR0FBQUYsRUFBQUEsRUFBQUYsSUFBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxNQUFBRCxHQUFBRyxHQUFBUyxRQUFB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SUFBM0M2QixFQUFXTyw0QkFHN0IsS0FDVXhDLFNBQVN5QyxZQUFZLGNBQ3JCUixFQUFXbEMsU0FBVSxFQUV2QixNQUFPMUQsR0FDTDRGLEVBQVdsQyxTQUFVLE1MMko3QmYsSUFBSyw2QkFDTGxCLE1BQU8sV0tySkosR0FBSTRFLEdBQUssR0FDTEMsRUFBSyxLQUNGQyxFQUFLVixVQUFVQyxTQWdCM0IsT0FkeUIsK0JBQXJCRCxVQUFVVyxTQUdiRixFQUFNLEdBQUlHLFFBQU8sOEJBRUcsT0FBaEJILEVBQUdJLEtBQUtILEtBQWNGLEVBQUtNLFdBQVlGLE9BQU9HLE1BRW5CLFlBQXJCZixVQUFVVyxVQUVwQkYsRUFBTSxHQUFJRyxRQUFPLHNDQUVHLE9BQWhCSCxFQUFHSSxLQUFLSCxLQUFjRixFQUFLTSxXQUFZRixPQUFPRyxNQUc1Q1AsTUx5SkFULElBR1Q5RSxHQUFBQSxXS3ZKZThFLFlMeUpKIiwiZmlsZSI6ImJ1aWxkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEhvbWUgPSBmdW5jdGlvbiBIb21lKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIb21lKTtcblxuICAgIGNvbnNvbGUubG9nKCdIb21lJyk7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBIb21lO1xuXG59LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9EZXZpY2VJbmZvID0gcmVxdWlyZSgnLi4vdG9vbHMvRGV2aWNlSW5mbycpO1xuXG52YXIgX0RldmljZUluZm8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGV2aWNlSW5mbyk7XG5cbnZhciBfSGVhZGVyID0gcmVxdWlyZSgnLi4vcGFydGlhbHMvSGVhZGVyJyk7XG5cbnZhciBfSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hlYWRlcik7XG5cbnZhciBfRm9vdGVyID0gcmVxdWlyZSgnLi4vcGFydGlhbHMvRm9vdGVyJyk7XG5cbnZhciBfRm9vdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Zvb3Rlcik7XG5cbnZhciBfSG9tZSA9IHJlcXVpcmUoJy4vSG9tZScpO1xuXG52YXIgX0hvbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSG9tZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBNYWluID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1haW4oKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnaW5pdCcpO1xuICAgICAgICB0aGlzLnJlYWR5KCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKE1haW4sIFt7XG4gICAgICAgIGtleTogJ3JlYWR5JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWR5KCkge1xuICAgICAgICAgICAgX0RldmljZUluZm8yLmRlZmF1bHQuY2hlY2soKTtcbiAgICAgICAgICAgIGlmIChfRGV2aWNlSW5mbzIuZGVmYXVsdC5pc1RvdWNoKSBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJ0b3VjaFwiKTtcbiAgICAgICAgICAgIGlmIChfRGV2aWNlSW5mbzIuZGVmYXVsdC5pc0lFKSBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJpZVwiKTtcbiAgICAgICAgICAgIGlmIChfRGV2aWNlSW5mbzIuZGVmYXVsdC5pc0FuZHJvaWQpIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImFuZHJvaWRcIik7XG4gICAgICAgICAgICBpZiAoX0RldmljZUluZm8yLmRlZmF1bHQuaXNJT1MpIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImlvc1wiKTtcbiAgICAgICAgICAgIGlmIChfRGV2aWNlSW5mbzIuZGVmYXVsdC5pc0ZpcmVmb3gpIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImZpcmVmb3hcIik7XG4gICAgICAgICAgICBpZiAoX0RldmljZUluZm8yLmRlZmF1bHQuaXNTYWZhcmkpIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcInNhZmFyaVwiKTtcbiAgICAgICAgICAgIGlmIChfRGV2aWNlSW5mbzIuZGVmYXVsdC5pc0Nocm9tZSkgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiY2hyb21lXCIpO1xuICAgICAgICAgICAgLy8gbGV0IHByZWxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVsb2FkZXInKTtcbiAgICAgICAgICAgIC8vIFR3ZWVuTGl0ZS50byhwcmVsb2FkZXIsIDAuNSx7Y3NzOnthdXRvQWxwaGE6MH0sZGVsYXk6MC40fSk7XG4gICAgICAgICAgICAvLyBUd2VlbkxpdGUuc2V0KHByZWxvYWRlcix7Y3NzOntkaXNwbGF5OlwiYmxvY2tcIn0sZGVsYXk6MC44fSk7XG4gICAgICAgICAgICB0aGlzLmhlYWRlciA9IG5ldyBfSGVhZGVyMi5kZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLmZvb3RlciA9IG5ldyBfRm9vdGVyMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoJCgnYm9keSBzZWN0aW9uJykuYXR0cihcImRhdGEtdGVtcGxhdGVcIikpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiaG9tZVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgPSBuZXcgX0hvbWUyLmRlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTWFpbjtcbn0oKTtcblxubmV3IE1haW4oKTtcblxufSx7XCIuLi9wYXJ0aWFscy9Gb290ZXJcIjozLFwiLi4vcGFydGlhbHMvSGVhZGVyXCI6NCxcIi4uL3Rvb2xzL0RldmljZUluZm9cIjo1LFwiLi9Ib21lXCI6MX1dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBGb290ZXIgPSBmdW5jdGlvbiBGb290ZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvb3Rlcik7XG5cbiAgICBjb25zb2xlLmxvZygnRm9vdGVyJyk7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBGb290ZXI7XG5cbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGVhZGVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGVyKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnSGVhZGVyJyk7XG4gICAgICAgIHRoaXMubWVudXJlc2l6ZSgpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5tZW51cmVzaXplLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhIZWFkZXIsIFt7XG4gICAgICAgIGtleTogJ21lbnVyZXNpemUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbWVudXJlc2l6ZSgpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IDEwMDtcbiAgICAgICAgICAgIHRoaXMubmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hc3RoZWFkJyk7XG4gICAgICAgICAgICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID4gc3RhcnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5hdi5jbGFzc0xpc3QuYWRkKCdzbWFsbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA8PSBzdGFydCkge1xuICAgICAgICAgICAgICAgIHRoaXMubmF2LmNsYXNzTGlzdC5yZW1vdmUoJ3NtYWxsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSGVhZGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBIZWFkZXI7XG5cbn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIERldmljZUluZm8gPSBmdW5jdGlvbiAoKSB7XG5cdFx0ZnVuY3Rpb24gRGV2aWNlSW5mbygpIHtcblx0XHRcdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIERldmljZUluZm8pO1xuXHRcdH1cblxuXHRcdF9jcmVhdGVDbGFzcyhEZXZpY2VJbmZvLCBudWxsLCBbe1xuXHRcdFx0XHRrZXk6IFwiY2hlY2tcIixcblx0XHRcdFx0dmFsdWU6IGZ1bmN0aW9uIGNoZWNrKCkge1xuXG5cdFx0XHRcdFx0XHQvL0ZGXG5cdFx0XHRcdFx0XHREZXZpY2VJbmZvLmlzRmlyZWZveCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiZmlyZWZveFwiKSA+IC0xID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdFx0XHRcdFx0RGV2aWNlSW5mby5pc0Nocm9tZSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiY2hyb21lXCIpID4gLTEgPyB0cnVlIDogZmFsc2U7XG5cdFx0XHRcdFx0XHREZXZpY2VJbmZvLmlzU2FmYXJpID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJjaHJvbWVcIikgPD0gLTEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJzYWZhcmlcIikgPiAtMSA/IHRydWUgOiBmYWxzZTtcblx0XHRcdFx0XHRcdERldmljZUluZm8uaXNBbmRyb2lkID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJhbmRyb2lkXCIpID4gLTEgPyB0cnVlIDogZmFsc2U7XG5cdFx0XHRcdFx0XHREZXZpY2VJbmZvLmlzSU9TID0gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIXdpbmRvdy5NU1N0cmVhbTtcblxuXHRcdFx0XHRcdFx0Ly9JRVxuXHRcdFx0XHRcdFx0RGV2aWNlSW5mby5pc0lFID0gRGV2aWNlSW5mby5nZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpICE9IC0xO1xuXG5cdFx0XHRcdFx0XHQvLyBJUyBUT1VDSFxuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRkb2N1bWVudC5jcmVhdGVFdmVudChcIlRvdWNoRXZlbnRcIik7XG5cdFx0XHRcdFx0XHRcdFx0RGV2aWNlSW5mby5pc1RvdWNoID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdFx0XHREZXZpY2VJbmZvLmlzVG91Y2ggPSBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdFx0a2V5OiBcImdldEludGVybmV0RXhwbG9yZXJWZXJzaW9uXCIsXG5cdFx0XHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpIHtcblxuXHRcdFx0XHRcdFx0dmFyIHJ2ID0gLTE7XG5cdFx0XHRcdFx0XHR2YXIgcmUgPSBudWxsO1xuXHRcdFx0XHRcdFx0dmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuXHRcdFx0XHRcdFx0aWYgKG5hdmlnYXRvci5hcHBOYW1lID09ICdNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXInKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRyZSA9IG5ldyBSZWdFeHAoXCJNU0lFIChbMC05XXsxLH1bXFwuMC05XXswLH0pXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlLmV4ZWModWEpICE9PSBudWxsKSBydiA9IHBhcnNlRmxvYXQoUmVnRXhwLiQxKTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAobmF2aWdhdG9yLmFwcE5hbWUgPT0gJ05ldHNjYXBlJykge1xuXG5cdFx0XHRcdFx0XHRcdFx0cmUgPSBuZXcgUmVnRXhwKFwiVHJpZGVudC8uKnJ2OihbMC05XXsxLH1bXFwuMC05XXswLH0pXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlLmV4ZWModWEpICE9PSBudWxsKSBydiA9IHBhcnNlRmxvYXQoUmVnRXhwLiQxKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIHJ2O1xuXHRcdFx0XHR9XG5cdFx0fV0pO1xuXG5cdFx0cmV0dXJuIERldmljZUluZm87XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERldmljZUluZm87XG5cbn0se31dfSx7fSxbMl0pXG5cbiIsImNsYXNzIEhvbWUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnSG9tZScpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSG9tZTsiLCJpbXBvcnQgRGV2aWNlSW5mbyBmcm9tICcuLi90b29scy9EZXZpY2VJbmZvJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vcGFydGlhbHMvSGVhZGVyJztcbmltcG9ydCBGb290ZXIgZnJvbSAnLi4vcGFydGlhbHMvRm9vdGVyJztcblxuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lJztcblxuY2xhc3MgTWFpbiB7XG5cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpbml0Jyk7XG4gICAgICAgIHRoaXMucmVhZHkoKTtcbiAgICB9XG5cbiAgICByZWFkeSgpIHtcbiAgICBcdERldmljZUluZm8uY2hlY2soKTtcbiAgICAgICAgaWYoRGV2aWNlSW5mby5pc1RvdWNoKSBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJ0b3VjaFwiKTtcbiAgICBcdGlmKERldmljZUluZm8uaXNJRSkgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiaWVcIik7XG4gICAgXHRpZihEZXZpY2VJbmZvLmlzQW5kcm9pZCkgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiYW5kcm9pZFwiKTtcbiAgICBcdGlmKERldmljZUluZm8uaXNJT1MpIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImlvc1wiKTtcbiAgICAgICAgaWYoRGV2aWNlSW5mby5pc0ZpcmVmb3gpIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImZpcmVmb3hcIik7XG4gICAgICAgIGlmKERldmljZUluZm8uaXNTYWZhcmkpIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcInNhZmFyaVwiKTtcbiAgICAgICAgaWYoRGV2aWNlSW5mby5pc0Nocm9tZSkgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiY2hyb21lXCIpO1xuICAgICAgICAvLyBsZXQgcHJlbG9hZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZWxvYWRlcicpO1xuICAgICAgICAvLyBUd2VlbkxpdGUudG8ocHJlbG9hZGVyLCAwLjUse2Nzczp7YXV0b0FscGhhOjB9LGRlbGF5OjAuNH0pO1xuICAgICAgICAvLyBUd2VlbkxpdGUuc2V0KHByZWxvYWRlcix7Y3NzOntkaXNwbGF5OlwiYmxvY2tcIn0sZGVsYXk6MC44fSk7XG4gICAgICAgIHRoaXMuaGVhZGVyID0gbmV3IEhlYWRlcigpO1xuICAgICAgICB0aGlzLmZvb3RlciA9IG5ldyBGb290ZXIoKTtcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCgkKCdib2R5IHNlY3Rpb24nKS5hdHRyKFwiZGF0YS10ZW1wbGF0ZVwiKSl7XG4gICAgICAgICAgICBjYXNlIFwiaG9tZVwiOiB0aGlzLnBhZ2UgPSBuZXcgSG9tZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuXG5uZXcgTWFpbigpOyIsImNsYXNzIEZvb3RlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGb290ZXInKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvb3RlcjsiLCJjbGFzcyBIZWFkZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnSGVhZGVyJyk7XHJcbiAgICAgICAgdGhpcy5tZW51cmVzaXplKCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMubWVudXJlc2l6ZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBtZW51cmVzaXplKCl7XHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5uYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFzdGhlYWQnKTtcclxuICAgICAgICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID4gc3RhcnQpeyBcclxuICAgICAgICAgICAgdGhpcy5uYXYuY2xhc3NMaXN0LmFkZCgnc21hbGwnKTsgXHJcbiAgICAgICAgfSBcclxuICAgICAgICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0IDw9IHN0YXJ0KXtcclxuICAgICAgICAgICAgdGhpcy5uYXYuY2xhc3NMaXN0LnJlbW92ZSgnc21hbGwnKTsgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyOyIsImNsYXNzIERldmljZUluZm8ge1xyXG5cclxuXHRzdGF0aWMgY2hlY2soKSB7XHJcblxyXG5cdFx0Ly9GRlxyXG5cdFx0RGV2aWNlSW5mby5pc0ZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZpcmVmb3hcIikgPiAtMSA/IHRydWUgOiBmYWxzZTtcclxuXHRcdERldmljZUluZm8uaXNDaHJvbWUgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImNocm9tZVwiKSA+IC0xID8gdHJ1ZSA6IGZhbHNlO1xyXG5cdFx0RGV2aWNlSW5mby5pc1NhZmFyaSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiY2hyb21lXCIpIDw9IC0xICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwic2FmYXJpXCIpID4gLTEgPyB0cnVlIDogZmFsc2U7XHJcblx0XHREZXZpY2VJbmZvLmlzQW5kcm9pZCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiYW5kcm9pZFwiKSA+IC0xID8gdHJ1ZSA6IGZhbHNlO1xyXG5cdFx0RGV2aWNlSW5mby5pc0lPUyA9IC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICF3aW5kb3cuTVNTdHJlYW07XHJcblxyXG5cdFx0Ly9JRVxyXG5cdFx0RGV2aWNlSW5mby5pc0lFID0gRGV2aWNlSW5mby5nZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpICE9IC0xO1xyXG5cclxuXHRcdC8vIElTIFRPVUNIXHJcblx0XHR0cnkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFdmVudChcIlRvdWNoRXZlbnRcIik7XHJcbiAgICAgICAgICAgIERldmljZUluZm8uaXNUb3VjaCA9IHRydWU7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgRGV2aWNlSW5mby5pc1RvdWNoID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbiAoKSB7XHJcblxyXG4gICAgICBcdGxldCBydiA9IC0xO1xyXG4gICAgICBcdGxldCByZSA9IG51bGw7XHJcbiAgICAgICAgY29uc3QgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG5cclxuXHRcdGlmIChuYXZpZ2F0b3IuYXBwTmFtZSA9PSAnTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyJylcclxuXHRcdHtcclxuXHJcblx0XHRcdHJlICA9IG5ldyBSZWdFeHAoXCJNU0lFIChbMC05XXsxLH1bXFwuMC05XXswLH0pXCIpO1xyXG5cclxuXHRcdFx0aWYgKHJlLmV4ZWModWEpICE9PSBudWxsKSBydiA9IHBhcnNlRmxvYXQoIFJlZ0V4cC4kMSApO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAobmF2aWdhdG9yLmFwcE5hbWUgPT0gJ05ldHNjYXBlJykge1xyXG5cclxuXHRcdFx0cmUgID0gbmV3IFJlZ0V4cChcIlRyaWRlbnQvLipydjooWzAtOV17MSx9W1xcLjAtOV17MCx9KVwiKTtcclxuXHJcblx0XHRcdGlmIChyZS5leGVjKHVhKSAhPT0gbnVsbCkgcnYgPSBwYXJzZUZsb2F0KCBSZWdFeHAuJDEgKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcnY7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEZXZpY2VJbmZvOyJdfQ==
